<!DOCTYPE html>

    <head>
        <meta charset="utf8">
        <title>MADetect home page</title>
        <link rel="stylesheet" href="{{ url_for('static', filename='css/admin_home.css') }}">

        <!-- 字體 -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Chewy&display=swap" rel="stylesheet">

        <!-- 小圖示 -->
        <script src="https://kit.fontawesome.com/cc70429ece.js" crossorigin="anonymous"></script>

        <!-- Bootstrap導入程式--> 
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <script>
            $(document).ready(function() {
                // 使用 jQuery 發送 GET 請求到後端伺服器，獲取使用者總數
                $.get("/get_user_count", function(data) {
                    // 將獲取的使用者總數更新到 HTML 中的 div
                    $("#userCount").text(data);
                });
            });
            $(document).ready(function() {
                // 使用 jQuery 發送 GET 請求到後端伺服器，獲取貼文總數
                $.get("/get_report_count", function(data) {
                    // 將獲取的使用者總數更新到 HTML 中的 div
                    $("#reportCount").text(data);
                });
            });
        </script>
    </head>
    <body >
        <div class="l_container" >
            <div class="side">
                <div class="header">
                    <div class="name">
                        <a class="name" href="homepage.html">MADetect</a>
                    </div>
                </div>

                <div class="l_middle">
                    <div class="title">
                        <button class="title" onclick="redirectToPage('/adminhome')">首頁</button>
                    </div>
                    <div class="title">
                        <button class="title" onclick="redirectToPage('/normalmanage')">管理一般用戶</button>
                    </div>
                    <div class="title">
                        <button class="title" onclick="redirectToPage('/membermanage')">管理會員</button>
                    </div>
                    <div class="title">
                        <button class="title" onclick="redirectToPage('/adminmanage')">管理管理員</button>
                    </div>
                    <script>function redirectToPage(url) {
                        window.location.href = url;
                    }</script>                    
                </div>
                <div class="l_report">
                    <a href="#" type="button" data-bs-toggle="modal" data-bs-target="#report" >問題回報</a>
                </div>

                <div class="l_bottom">
                    <div class="l_bottom_l">
                        <a href="#" type="button" data-bs-toggle="modal" data-bs-target="#account" class="l_word">Admin</a>
                    </div>
                    <div class="l_bottom_r">
                        <a class="r_word" href="/adminsignout">Log Out</a>
                    </div>
                </div>
            </div>

            <div class="r_side" >
                <div class="grid-container">
                    <div class="grid-item">總用戶數
                        <div class="textbox" id="userCount"></div>
                    </div>
                    <div class="grid-item">會員數
                        <div class="textbox">200</div>
                    </div>
                    <div class="grid-item">問題回報
                        <div class="textbox" id="reportCount"></div>
                    </div>
                </div>

                <div class="grid-container">
                    <div class="grid-item_1">查詢一般用戶
                        <div class="txt_field">
                            <input type="text" placeholder="輸入...">
                            <button type="submit"><i class="fa fa-search"></i></button>
                            <span></span>
                        </div>
                    </div>
                    <div class="grid-item_1">查詢會員
                        <div class="txt_field">
                            <input type="text" placeholder="輸入...">
                            <button type="submit"><i class="fa fa-search"></i></button>
                            <span></span>
                        </div>
                    </div>
                    <div class="grid-item_1">搜尋紀錄
                        <div class="txt_field">
                            <input type="text" placeholder="輸入...">
                            <button type="submit"><i class="fa fa-search"></i></button>
                            <span></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>


                <!--跳出視窗內容 Account -->

                <div class="modal fade" id="account" tabindex="-1" aria-labelledby="accountModalLabel" aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h4 class="modal-title" id="accountModalLabel">帳戶設定</h4>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <form>
                                    <div class="form-group">
                                        <input type="email" class="account form-control" placeholder="Email">
                                    </div>
                                    <div class="form-group">
                                        <input type="password" class="password form-control" placeholder="Password">
                                    </div>
                                    <div class="from-group text-center">
                                        <button type="button" class="btn btn-info ">儲存</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>

                <!--跳出視窗內容 Report -->
                <div class="modal fade" id="report" tabindex="-1" aria-labelledby="accountModalLabel" aria-hidden="true">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h4 class="modal-title" id="accountModalLabel">問題回報</h4>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                <form>
                                    <div class="mb-3">
                                        <textarea class="form-control" id="message-text"></textarea>
                                    </div>
                                    <div class="from-group text-center">
                                        <button type="button" class="btn btn-info ">回報</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
    </body>
</html>